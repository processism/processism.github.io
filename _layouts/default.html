<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% if page.title %}{{ page.title | escape }} - {{ site.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>
  <meta name="description" content="{{ page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
  <link rel="stylesheet" href="{{ "/assets/css/main.css" | relative_url }}">
  <link rel="icon" href="{{ "/assets/images/favicon.svg" | relative_url }}" type="image/svg+xml">
  {% seo %}
</head>
<body>
  <div class="container">
    {% include header.html %}

    <main class="site-content">
      <div class="content-wrapper">
        {% if page.title and layout.name != 'home' %}
          <div class="breadcrumbs">
            <a href="{{ "/" | relative_url }}">Home</a>
            {% if page.collection %}
              <span class="separator">›</span>
              <a href="{{ page.collection | prepend: '/' | append: '/' | relative_url }}">{{ page.collection | capitalize }}</a>
            {% endif %}
            {% if page.title != page.collection %}
              <span class="separator">›</span>
              <span class="current">{{ page.title }}</span>
            {% endif %}
          </div>
        {% endif %}

        {{ content }}
        
        {% if page.collection and page.previous or page.next %}
          <nav class="page-navigation">
            {% if page.previous %}
              <a href="{{ page.previous.url | relative_url }}" class="previous">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M19 12H5M5 12l7 7M5 12l7-7"/>
                </svg>
                <span>{{ page.previous.title }}</span>
              </a>
            {% endif %}
            
            {% if page.next %}
              <a href="{{ page.next.url | relative_url }}" class="next">
                <span>{{ page.next.title }}</span>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M5 12h14M19 12l-7 7M19 12l-7-7"/>
                </svg>
              </a>
            {% endif %}
          </nav>
        {% endif %}
      </div>

      <aside class="site-sidebar">
        {% include navigation.html %}
      </aside>
    </main>

    <footer class="site-footer">
      {% include footer.html %}
    </footer>
  </div>

  <script>
    // Simple mobile menu toggle
    document.addEventListener('DOMContentLoaded', function() {
      const mobileToggle = document.querySelector('.mobile-nav-toggle');
      const mobileOverlay = document.querySelector('.mobile-nav-overlay');
      const mobileClose = document.querySelector('.mobile-nav-close');
      const body = document.body;
      
      if (mobileToggle && mobileOverlay) {
        mobileToggle.addEventListener('click', function() {
          mobileOverlay.classList.add('active');
          body.classList.add('mobile-menu-active');
          mobileOverlay.setAttribute('aria-hidden', 'false');
        });
        
        if (mobileClose) {
          mobileClose.addEventListener('click', function() {
            mobileOverlay.classList.remove('active');
            body.classList.remove('mobile-menu-active');
            mobileOverlay.setAttribute('aria-hidden', 'true');
          });
        }
        
        // Close mobile menu when clicking on links
        const mobileLinks = mobileOverlay.querySelectorAll('a');
        mobileLinks.forEach(link => {
          link.addEventListener('click', function() {
            mobileOverlay.classList.remove('active');
            body.classList.remove('mobile-menu-active');
            mobileOverlay.setAttribute('aria-hidden', 'true');
          });
        });
      }
    });
  </script>
</body>
</html>
